{% extends "base.html" %}

{% block title %}Manao - your TODOs{% endblock %}

{% block heading %}Manao - your TODOs{% endblock %}

{% block content %}
    <h2>Total Number of TODOs: {{ todos|length }}</h2>
    <ul class="menu bg-base-200 w-56 rounded-box">
    {% for todo in todos %}
        <li class="todo">

            {% if todo.status == 'published' %}
                <h3>{{ todo.title }}</h3>
                <p>{{ todo.content|truncate }}</p>
                <p>Published on: {{ todo.publication_date }}</p>

                <h4>Comments:</h4>
                <ul>
                    {% for comment in todo.comments %}
                        <li class="comment">{{ comment.author }}-: {{ comment.content }}</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>This todo is still in draft mode.</p>
            {% endif %}
        </li>
        <hr>
    {% endfor %}
    </ul>
{% endblock %}