{% extends "dashboard.html" %}

{% block input %}
<div class="flex box-border items-center gap-2 w-full">
    <input id="input" class="input input-bordered input-primary border-4 w-52 h-13" name="todo_title"
        placeholder="Title" autocomplete="off" autofocus>
    <button id="button" onclick="onClick()" class="btn btn-primary btn-sm">
        +
    </button>
    <span class="htmx-indicator relative -right-2 loading loading-spinner loading-lg"></span>
</div>

<script>
    const input = document.getElementById("input")
    input.addEventListener('input', (event) => {
        if (!event.target.value) {
            document.getElementById('button').disabled = true;
        } else {
            document.getElementById('button').disabled = false;
        }
    });
    input.addEventListener('focus', (event) => {
        if (!event.target.value) {
            document.getElementById('button').disabled = true;
        } else {
            document.getElementById('button').disabled = false;
        }
    });

    function onClick() {
        setTimeout(() => {
            const input = document.querySelector('#input');
            input.value = "";
        }, 1)
    }


</script>
{% endblock %}